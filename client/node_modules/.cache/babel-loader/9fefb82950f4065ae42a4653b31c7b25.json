{"ast":null,"code":"var _jsxFileName = \"/Users/xialiangwen/Desktop/Bootcamp/concordia-bootcamps/project-GROUP-e-commerce/client/src/components/ItemPage.js\",\n    _s = $RefreshSig$();\n\n// this page will show the indivdual items information after being clicked on/\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useContext } from \"react\";\nimport { Redirect, useParams } from \"react-router-dom\";\nimport { ItemContext } from \"../context/Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ItemPage = () => {\n  _s();\n\n  const {\n    singleItem,\n    setSingleItem\n  } = useContext(ItemContext);\n  const [company, setCompany] = useState(null);\n  const [buttonPhrase, setButtonPhrase] = useState(\"Add to Cart\");\n  const {\n    itemId\n  } = useParams();\n  useEffect(() => {\n    axios.get(`/api/shop/items/${itemId}`).then(res => {\n      // console.log(\"inside single item\",res);\n      setSingleItem(res.data.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [itemId]);\n  useEffect(() => {\n    axios.get(`/api/companies/${singleItem.companyId}`).then(res => {\n      console.log(\"inside single item\", res.data.companyInfo);\n      setCompany(res.data.companyInfo);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [singleItem.companyId]);\n\n  const addToCart = e => {\n    e.preventDefault();\n    axios({\n      method: \"post\",\n      url: \"/api/cart\",\n      data: {\n        _id: itemId,\n        name: singleItem.name,\n        price: singleItem.price,\n        body_location: singleItem.body_location,\n        category: singleItem.category,\n        imageSrc: singleItem.imageSrc\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n    setButtonPhrase(\"Added to cart!\");\n  };\n\n  return (\n    /*#__PURE__*/\n    //1st step fetch the data of the item based on the :param (item id)\n    //2nd step is to render it.\n    _jsxDEV(_Fragment, {\n      children: singleItem && company ? /*#__PURE__*/_jsxDEV(MainWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(LeftDiv, {\n          children: /*#__PURE__*/_jsxDEV(ItemImage, {\n            src: singleItem.imageSrc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RightDiv, {\n          children: [/*#__PURE__*/_jsxDEV(ItemName, {\n            children: singleItem.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(A, {\n            href: company.url,\n            target: \"_blank\",\n            children: /*#__PURE__*/_jsxDEV(ItemCompanyName, {\n              children: [company.name, \", \", company.country]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ItemCategory, {\n            children: [singleItem.category, \"/\", singleItem.body_location]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ItemPrice, {\n            children: singleItem.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AddToCart, {\n            onClick: addToCart,\n            children: buttonPhrase\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false)\n  );\n};\n\n_s(ItemPage, \"wJ6BKRk9Yxb+GJC++OmgJKN5kNY=\", false, function () {\n  return [useParams];\n});\n\n_c = ItemPage;\nconst A = styled.a`\n  text-decoration: none;\n  color: black;\n`;\n_c2 = A;\nconst AddToCart = styled.button`\n  border: none;\n  width: 300px;\n  height: 40px;\n  background: #ffab44;\n  color: white;\n  font-size: 25px;\n  border-radius: 5px;\n  cursor: pointer;\n`;\n_c3 = AddToCart;\nconst MainWrapper = styled.div`\n  height: 500px;\n  display: flex;\n  margin-top: 50px;\n  border-radius: 10px;\n  box-shadow: 2px 2px 4px 2px rgba(0, 0, 0, 0.3);\n`;\n_c4 = MainWrapper;\nconst LeftDiv = styled.div`\n  width: 390px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n_c5 = LeftDiv;\nconst ItemImage = styled.img`\n  width: 320px;\n`;\n_c6 = ItemImage;\nconst ItemPrice = styled.h4`\n  font-size: 30px;\n  font-weight: 400;\n  font-style: italic;\n  margin-bottom: 5px;\n`;\n_c7 = ItemPrice;\nconst RightDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background-color: #fff3e1;\n  width: 650px;\n  padding-left: 20px;\n`;\n_c8 = RightDiv;\nconst ItemName = styled.h2`\n  font-family: var(--primary-font-family);\n  font-weight: 300;\n  font-size: 30px;\n`;\n_c9 = ItemName;\nconst ItemCategory = styled.p`\n  margin-bottom: 50px;\n`;\n_c10 = ItemCategory;\nconst ItemCompanyName = styled.p`\n  font-size: 20px;\n\n  &:hover {\n    color: #ffab44;\n    cursor: pointer;\n  }\n`;\n_c11 = ItemCompanyName;\nexport default ItemPage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"ItemPage\");\n$RefreshReg$(_c2, \"A\");\n$RefreshReg$(_c3, \"AddToCart\");\n$RefreshReg$(_c4, \"MainWrapper\");\n$RefreshReg$(_c5, \"LeftDiv\");\n$RefreshReg$(_c6, \"ItemImage\");\n$RefreshReg$(_c7, \"ItemPrice\");\n$RefreshReg$(_c8, \"RightDiv\");\n$RefreshReg$(_c9, \"ItemName\");\n$RefreshReg$(_c10, \"ItemCategory\");\n$RefreshReg$(_c11, \"ItemCompanyName\");","map":{"version":3,"sources":["/Users/xialiangwen/Desktop/Bootcamp/concordia-bootcamps/project-GROUP-e-commerce/client/src/components/ItemPage.js"],"names":["styled","axios","React","useEffect","useState","useContext","Redirect","useParams","ItemContext","ItemPage","singleItem","setSingleItem","company","setCompany","buttonPhrase","setButtonPhrase","itemId","get","then","res","data","catch","err","console","log","companyId","companyInfo","addToCart","e","preventDefault","method","url","_id","name","price","body_location","category","imageSrc","country","A","a","AddToCart","button","MainWrapper","div","LeftDiv","ItemImage","img","ItemPrice","h4","RightDiv","ItemName","h2","ItemCategory","p","ItemCompanyName"],"mappings":"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","sourcesContent":["// this page will show the indivdual items information after being clicked on/\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useContext } from \"react\";\nimport { Redirect, useParams } from \"react-router-dom\";\n\nimport { ItemContext } from \"../context/Context\";\n\nconst ItemPage = () => {\n  const { singleItem, setSingleItem } = useContext(ItemContext);\n  const [company, setCompany] = useState(null);\n  const [buttonPhrase, setButtonPhrase] = useState(\"Add to Cart\");\n  const { itemId } = useParams();\n\n  useEffect(() => {\n    axios\n      .get(`/api/shop/items/${itemId}`)\n      .then((res) => {\n        // console.log(\"inside single item\",res);\n        setSingleItem(res.data.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [itemId]);\n\n  useEffect(() => {\n    axios\n      .get(`/api/companies/${singleItem.companyId}`)\n      .then((res) => {\n        console.log(\"inside single item\", res.data.companyInfo);\n        setCompany(res.data.companyInfo);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [singleItem.companyId]);\n\n  const addToCart = (e) => {\n    e.preventDefault();\n\n    axios({\n      method: \"post\",\n      url: \"/api/cart\",\n      data: {\n        _id: itemId,\n        name: singleItem.name,\n        price: singleItem.price,\n        body_location: singleItem.body_location,\n        category: singleItem.category,\n        imageSrc: singleItem.imageSrc,\n      },\n    }).catch((err) => {\n      console.log(err);\n    });\n\n    setButtonPhrase(\"Added to cart!\");\n  };\n\n  return (\n    //1st step fetch the data of the item based on the :param (item id)\n    //2nd step is to render it.\n    <>\n      {singleItem && company ? (\n        <MainWrapper>\n          <LeftDiv>\n            <ItemImage src={singleItem.imageSrc} />\n          </LeftDiv>\n          <RightDiv>\n            <ItemName>{singleItem.name}</ItemName>\n            <A href={company.url} target=\"_blank\">\n              <ItemCompanyName>\n                {company.name}, {company.country}\n              </ItemCompanyName>\n            </A>\n            <ItemCategory>\n              {singleItem.category}/{singleItem.body_location}\n            </ItemCategory>\n            <ItemPrice>{singleItem.price}</ItemPrice>\n            <AddToCart onClick={addToCart}>{buttonPhrase}</AddToCart>\n          </RightDiv>\n        </MainWrapper>\n      ) : (\n        <div>Loading...</div>\n      )}\n    </>\n  );\n};\n\nconst A = styled.a`\n  text-decoration: none;\n  color: black;\n`;\nconst AddToCart = styled.button`\n  border: none;\n  width: 300px;\n  height: 40px;\n  background: #ffab44;\n  color: white;\n  font-size: 25px;\n  border-radius: 5px;\n  cursor: pointer;\n`;\n\nconst MainWrapper = styled.div`\n  height: 500px;\n  display: flex;\n  margin-top: 50px;\n  border-radius: 10px;\n  box-shadow: 2px 2px 4px 2px rgba(0, 0, 0, 0.3);\n`;\nconst LeftDiv = styled.div`\n  width: 390px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ItemImage = styled.img`\n  width: 320px;\n`;\nconst ItemPrice = styled.h4`\n  font-size: 30px;\n  font-weight: 400;\n  font-style: italic;\n  margin-bottom: 5px;\n`;\n\nconst RightDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background-color: #fff3e1;\n  width: 650px;\n  padding-left: 20px;\n`;\n\nconst ItemName = styled.h2`\n  font-family: var(--primary-font-family);\n  font-weight: 300;\n  font-size: 30px;\n`;\nconst ItemCategory = styled.p`\n  margin-bottom: 50px;\n`;\nconst ItemCompanyName = styled.p`\n  font-size: 20px;\n\n  &:hover {\n    color: #ffab44;\n    cursor: pointer;\n  }\n`;\n\nexport default ItemPage;\n"]},"metadata":{},"sourceType":"module"}