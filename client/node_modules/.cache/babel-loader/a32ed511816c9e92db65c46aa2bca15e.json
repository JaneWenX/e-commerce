{"ast":null,"code":"var _jsxFileName = \"/Users/xialiangwen/Desktop/Bootcamp/concordia-bootcamps/project-GROUP-e-commerce/client/src/context/Context.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ItemContext = /*#__PURE__*/createContext();\nexport const ItemProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [Items, setItems] = useState([]);\n  const [singleItem, setSingleItem] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [companyInfo, setCompanyInfo] = useState([]);\n  const [companyProducts, setCompanyProducts] = useState([]);\n  const [ItemNumber, setItemNumber] = useState(0);\n  const [cart, setCart] = useState([]);\n  const [orderHistory, setOrderHistory] = useState(null);\n  const [company, setCompany] = useState(null);\n  const [error, setError] = useState(false);\n  useEffect(() => {\n    axios.get(\"/api/companies\").then(res => {\n      // console.log(res);\n      setCompanies(res.data.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(\"/api/items\").then(res => {\n      // console.log(res);\n      setItems(res.data.data);\n    }).catch(err => {\n      setError(err);\n    });\n  }, []); // useEffect(() => {\n  //   axios\n  //     .get(\"/api/cart\")\n  //     .then((res) => {\n  //       console.log(\"inside context- cart\",res)\n  //       setCart(res.data);\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //     });\n  // }, [Items]);\n\n  let temporaryArray = [];\n\n  const addToCart = (e, items) => {\n    e.preventDefault();\n    e.stopPropagation();\n    temporaryArray.push(items);\n    setCart(temporaryArray);\n    axios({\n      method: \"POST\",\n      url: \"/api/cart\",\n      data: {\n        _id: items._id,\n        name: items.name,\n        price: items.price,\n        imageSrc: items.imageSrc,\n        body_location: items.body_location,\n        category: items.category,\n        companyId: items.companyId\n      }\n    }).then(res => {\n      console.log(\"this is inside post\", res);\n    }).catch(err => {\n      setError(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(ItemContext.Provider, {\n    value: {\n      Items,\n      companies,\n      singleItem,\n      setSingleItem,\n      companyInfo,\n      setCompanyInfo,\n      companyProducts,\n      setCompanyProducts,\n      ItemNumber,\n      addToCart,\n      cart,\n      setCart,\n      company,\n      setCompany,\n      orderHistory,\n      setOrderHistory,\n      error,\n      setError\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ItemProvider, \"OkizrWs5btsJY4ZJAaC52q7oeto=\");\n\n_c = ItemProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemProvider\");","map":{"version":3,"sources":["/Users/xialiangwen/Desktop/Bootcamp/concordia-bootcamps/project-GROUP-e-commerce/client/src/context/Context.js"],"names":["createContext","useState","useEffect","axios","ItemContext","ItemProvider","children","Items","setItems","singleItem","setSingleItem","companies","setCompanies","companyInfo","setCompanyInfo","companyProducts","setCompanyProducts","ItemNumber","setItemNumber","cart","setCart","orderHistory","setOrderHistory","company","setCompany","error","setError","get","then","res","data","catch","err","console","log","temporaryArray","addToCart","e","items","preventDefault","stopPropagation","push","method","url","_id","name","price","imageSrc","body_location","category","companyId"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,OAAO,MAAMC,WAAW,gBAAGJ,aAAa,EAAjC;AAEP,OAAO,MAAMK,YAAY,GAAG,QAAkB;AAAA;;AAAA,MAAjB;AAAEC,IAAAA;AAAF,GAAiB;AAC5C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACQ,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,EAAD,CAA5C;AAEA,QAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACc,eAAD,EAAkBC,kBAAlB,IAAwCf,QAAQ,CAAC,EAAD,CAAtD;AAEA,QAAM,CAACgB,UAAD,EAAaC,aAAb,IAA8BjB,QAAQ,CAAC,CAAD,CAA5C;AACA,QAAM,CAACkB,IAAD,EAAOC,OAAP,IAAkBnB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACoB,YAAD,EAAeC,eAAf,IAAkCrB,QAAQ,CAAC,IAAD,CAAhD;AAEA,QAAM,CAACsB,OAAD,EAAUC,UAAV,IAAwBvB,QAAQ,CAAC,IAAD,CAAtC;AAEA,QAAM,CAACwB,KAAD,EAAQC,QAAR,IAAoBzB,QAAQ,CAAC,KAAD,CAAlC;AAGAC,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CACFwB,GADH,CACO,gBADP,EAEGC,IAFH,CAESC,GAAD,IAAS;AACb;AACAjB,MAAAA,YAAY,CAACiB,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAZ;AACD,KALH,EAMGC,KANH,CAMUC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KARH;AASD,GAVQ,EAUN,EAVM,CAAT;AAYA9B,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CACFwB,GADH,CACO,YADP,EAEGC,IAFH,CAESC,GAAD,IAAS;AACb;AACArB,MAAAA,QAAQ,CAACqB,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAR;AACD,KALH,EAMGC,KANH,CAMUC,GAAD,IAAS;AACdN,MAAAA,QAAQ,CAACM,GAAD,CAAR;AACD,KARH;AASD,GAVQ,EAUN,EAVM,CAAT,CA7B4C,CAyC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAIG,cAAc,GAAG,EAArB;;AAGA,QAAMC,SAAS,GAAG,CAACC,CAAD,EAAIC,KAAJ,KAAc;AAC9BD,IAAAA,CAAC,CAACE,cAAF;AACAF,IAAAA,CAAC,CAACG,eAAF;AACAL,IAAAA,cAAc,CAACM,IAAf,CAAoBH,KAApB;AACAlB,IAAAA,OAAO,CAACe,cAAD,CAAP;AAEEhC,IAAAA,KAAK,CAAC;AACJuC,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,WAFD;AAGJb,MAAAA,IAAI,EAAE;AACJc,QAAAA,GAAG,EAAEN,KAAK,CAACM,GADP;AAEJC,QAAAA,IAAI,EAAEP,KAAK,CAACO,IAFR;AAGJC,QAAAA,KAAK,EAAER,KAAK,CAACQ,KAHT;AAIJC,QAAAA,QAAQ,EAAET,KAAK,CAACS,QAJZ;AAKJC,QAAAA,aAAa,EAAEV,KAAK,CAACU,aALjB;AAMJC,QAAAA,QAAQ,EAAEX,KAAK,CAACW,QANZ;AAOJC,QAAAA,SAAS,EAAEZ,KAAK,CAACY;AAPb;AAHF,KAAD,CAAL,CAaGtB,IAbH,CAaSC,GAAD,IAAS;AACbI,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAkCL,GAAlC;AACD,KAfH,EAgBGE,KAhBH,CAgBUC,GAAD,IAAS;AACdN,MAAAA,QAAQ,CAACM,GAAD,CAAR;AACD,KAlBH;AAmBH,GAzBD;;AA4BA,sBACE,QAAC,WAAD,CAAa,QAAb;AACE,IAAA,KAAK,EAAE;AACLzB,MAAAA,KADK;AAELI,MAAAA,SAFK;AAGLF,MAAAA,UAHK;AAILC,MAAAA,aAJK;AAKLG,MAAAA,WALK;AAMLC,MAAAA,cANK;AAOLC,MAAAA,eAPK;AAQLC,MAAAA,kBARK;AASLC,MAAAA,UATK;AAULmB,MAAAA,SAVK;AAWLjB,MAAAA,IAXK;AAYLC,MAAAA,OAZK;AAaLG,MAAAA,OAbK;AAcLC,MAAAA,UAdK;AAeLH,MAAAA,YAfK;AAgBLC,MAAAA,eAhBK;AAiBLG,MAAAA,KAjBK;AAkBLC,MAAAA;AAlBK,KADT;AAAA,cAsBGpB;AAtBH;AAAA;AAAA;AAAA;AAAA,UADF;AA0BD,CA9GM;;GAAMD,Y;;KAAAA,Y","sourcesContent":["import { createContext, useState, useEffect } from \"react\";\n\nimport axios from \"axios\";\n\nexport const ItemContext = createContext();\n\nexport const ItemProvider = ({ children }) => {\n  const [Items, setItems] = useState([]);\n  const [singleItem, setSingleItem] = useState([]);\n\n  const [companies, setCompanies] = useState([]);\n  const [companyInfo, setCompanyInfo] = useState([]);\n  const [companyProducts, setCompanyProducts] = useState([]);\n\n  const [ItemNumber, setItemNumber] = useState(0);\n  const [cart, setCart] = useState([]);\n  const [orderHistory, setOrderHistory] = useState(null);\n\n  const [company, setCompany] = useState(null);\n\n  const [error, setError] = useState(false);\n\n\n  useEffect(() => {\n    axios\n      .get(\"/api/companies\")\n      .then((res) => {\n        // console.log(res);\n        setCompanies(res.data.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios\n      .get(\"/api/items\")\n      .then((res) => {\n        // console.log(res);\n        setItems(res.data.data);\n      })\n      .catch((err) => {\n        setError(err);\n      });\n  }, []);\n  \n  // useEffect(() => {\n  //   axios\n  //     .get(\"/api/cart\")\n  //     .then((res) => {\n  //       console.log(\"inside context- cart\",res)\n  //       setCart(res.data);\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //     });\n  // }, [Items]);\n\n  let temporaryArray = [];\n\n\n  const addToCart = (e, items) => {\n    e.preventDefault();\n    e.stopPropagation();\n    temporaryArray.push(items);\n    setCart(temporaryArray);\n\n      axios({\n        method: \"POST\",\n        url: \"/api/cart\",\n        data: {\n          _id: items._id,\n          name: items.name,\n          price: items.price,\n          imageSrc: items.imageSrc,\n          body_location: items.body_location,\n          category: items.category,\n          companyId: items.companyId,\n        },\n      })\n        .then((res) => {\n          console.log(\"this is inside post\",res);\n        })\n        .catch((err) => {\n          setError(err);   \n        });\n  };\n\n\n  return (\n    <ItemContext.Provider\n      value={{\n        Items,\n        companies,\n        singleItem,\n        setSingleItem,\n        companyInfo,\n        setCompanyInfo,\n        companyProducts,\n        setCompanyProducts,\n        ItemNumber,\n        addToCart,\n        cart,\n        setCart,\n        company,\n        setCompany,\n        orderHistory,\n        setOrderHistory,\n        error,\n        setError,\n      }}\n    >\n      {children}\n    </ItemContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}