{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/xialiangwen/Desktop/web_projects/e-commerce/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/Users/xialiangwen/Desktop/web_projects/e-commerce/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15;import styled from\"styled-components\";// styled components\nimport{useEffect,useState,useContext}from\"react\";// useEffect, useState\nimport axios from\"axios\";// axios\nimport{ItemContext}from\"../context/Context\";// show previous orders of the user\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var OrderHistory=function OrderHistory(){var _useContext=useContext(ItemContext),setError=_useContext.setError;// state to capture the orders of the user\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),history=_useState2[0],setHistory=_useState2[1];// getting the user id from the mongodb\nuseEffect(function(){axios.get(\"/api/orderHistory\").then(function(res){setHistory(res.data.data);}).catch(function(err){return setError(err);});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ContentWrapper,{children:/*#__PURE__*/_jsxs(BackgroundImage,{children:[/*#__PURE__*/_jsxs(SiteDescription,{children:[/*#__PURE__*/_jsx(ImageHere,{src:\"https://media.giphy.com/media/0mSlp2eTzUiLwRfHv2/giphy.gif\"}),/*#__PURE__*/_jsx(DescriptionText,{children:\"Your Previous purchases\"})]}),/*#__PURE__*/_jsx(GridContainer,{children:history===null||history===void 0?void 0:history.map(function(item,index){var _item$data;return/*#__PURE__*/_jsx(_Fragment,{children:(_item$data=item.data)===null||_item$data===void 0?void 0:_item$data.map(function(element){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(GridItem,{children:[/*#__PURE__*/_jsx(LeftDiv,{children:/*#__PURE__*/_jsx(Image,{src:element.imageSrc})}),/*#__PURE__*/_jsxs(RightDiv,{children:[/*#__PURE__*/_jsx(Name,{children:/*#__PURE__*/_jsx(\"p\",{children:element.name})}),/*#__PURE__*/_jsx(OrderInfo,{children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Order Id: \",item._id]})}),/*#__PURE__*/_jsxs(PriceSection,{children:[/*#__PURE__*/_jsx(PriceColumn,{children:/*#__PURE__*/_jsx(\"p\",{children:element.price})}),/*#__PURE__*/_jsx(PurchasedSeal,{src:\"https://media.giphy.com/media/oS9gvPTg8i9VYfIohK/giphy.gif\"})]})]})]},element._id)});})});})})]})})});};//styled components\nvar ContentWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 70vw;\\n  left: 10vw;\\n  top: 6vh;\\n  height: 100%;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: white;\\n\"])));var BackgroundImage=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background-image: url(\\\"https://i.pinimg.com/736x/82/6a/95/826a95fde43be06c60b5c1f5349587c3.jpg\\\");\\n  background-repeat: repeat;\\n  display: flex;\\n  flex-direction: column;\\n  height: 2000px;\\n  width: 2000px;\\n\"])));var SiteDescription=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-around;\\n  align-items: center;\\n  width: 100%;\\n  height: 10vh;\\n  background-color: black;\\n  color: white;\"])));var DescriptionText=styled.h1(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\nfont-size: 3rem;\\n  font-family: var(--primary-font-family);\\n\"])));var ImageHere=styled.img(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  width: 10vw;\\n  height: auto;\\n  object-fit: contain;\\n\"])));var GridContainer=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  width: 90vw;\\n  display: grid;\\n  grid-template-columns: auto auto;\\n  padding: 10px;\\n  background-color: transparent;\\n  height: 10vh;\\n\"])));var GridItem=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  color: black;\\n  text-decoration: none;\\n  background-color: white;\\n  width: 400px;\\n  height: auto;\\n  margin: 15px auto;\\n  padding: 15px;\\n  border: 1px solid black;\\n  border-radius: 25px;\\n  transition: 0.5s ease-in-out;\\n  box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1);\\n  animation: scaleIn 1s ease-in-out;\\n\\n  @keyframes scaleIn {\\n    from {\\n      transform: translateY(200%);\\n    }\\n    to {\\n      transform: translateY(0%);\\n    }\\n  }\\n\"])));var LeftDiv=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  border-right: 1px solid black;\\n  padding: 10px;\\n\"])));var RightDiv=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  margin-left: 10px;\\n\"])));var Image=styled.img(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: center;\\n  width: 100px;\\n  height: auto;\\n  object-fit: contain;\\n\"])));var Name=styled.h3(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n\"])));var PriceSection=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n\"])));var OrderInfo=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  background-color: black;\\n  color: white;\\n  border-radius: 5px;\\n\"])));var PriceColumn=styled.div(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  padding: 0 5px;\\n  display: inline-block;\\n\\n  width: 100px;\\n  height: 38px;\\n\\n  background-color: #6ab070;\\n  -webkit-border-radius: 3px 4px 4px 3px;\\n  -moz-border-radius: 3px 4px 4px 3px;\\n  border-radius: 3px 4px 4px 3px;\\n\\n  border-left: 1px solid #6ab070;\\n\\n  /* This makes room for the triangle */\\n  margin-left: 19px;\\n\\n  position: relative;\\n  color: white;\\n  font-weight: 300;\\n  font-size: 22px;\\n  line-height: 38px;\\n\\n  padding: 0 10px 0 10px;\\n\\n  &:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    display: block;\\n    left: -19px;\\n    width: 0;\\n    height: 0;\\n    border-top: 19px solid transparent;\\n    border-bottom: 19px solid transparent;\\n    border-right: 19px solid #6ab070;\\n  }\\n\\n  &:after {\\n    content: \\\"\\\";\\n    background-color: white;\\n    border-radius: 50%;\\n    width: 4px;\\n    height: 4px;\\n    display: block;\\n    position: absolute;\\n    left: -9px;\\n    top: 17px;\\n  }\\n\"])));var PurchasedSeal=styled.img(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  width: 60px;\\n  height: auto;\\n\"])));export default OrderHistory;","map":{"version":3,"sources":["/Users/xialiangwen/Desktop/web_projects/e-commerce/client/src/components/OrderHistory.js"],"names":["styled","useEffect","useState","useContext","axios","ItemContext","OrderHistory","setError","history","setHistory","get","then","res","data","catch","err","map","item","index","element","imageSrc","name","_id","price","ContentWrapper","div","BackgroundImage","SiteDescription","DescriptionText","h1","ImageHere","img","GridContainer","GridItem","LeftDiv","RightDiv","Image","Name","h3","PriceSection","OrderInfo","PriceColumn","PurchasedSeal"],"mappings":"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","sourcesContent":["import styled from \"styled-components\"; // styled components\nimport { useEffect, useState, useContext } from \"react\"; // useEffect, useState\nimport axios from \"axios\"; // axios\n\nimport { ItemContext } from \"../context/Context\";\n\n// show previous orders of the user\nconst OrderHistory = () => {\n  const { setError } = useContext(ItemContext);\n\n  // state to capture the orders of the user\n  const [history, setHistory] = useState([]);\n\n  // getting the user id from the mongodb\n  useEffect(() => {\n    axios\n      .get(\"/api/orderHistory\")\n      .then((res) => {\n        setHistory(res.data.data);\n      })\n      .catch((err) => setError(err));\n  }, []);\n\n  return (\n    <>\n      <ContentWrapper>\n        <BackgroundImage>\n          <SiteDescription>\n            <ImageHere src=\"https://media.giphy.com/media/0mSlp2eTzUiLwRfHv2/giphy.gif\"/>\n            <DescriptionText>Your Previous purchases</DescriptionText>\n          </SiteDescription>\n          <GridContainer>\n            {history?.map((item, index) => {\n              return (\n                <>\n                  {item.data?.map((element) => {\n                    return (\n                      <>\n                        <GridItem key={element._id}>\n                          <LeftDiv>\n                            <Image src={element.imageSrc} />\n                          </LeftDiv>\n                          <RightDiv>\n                            <Name>\n                              <p>{element.name}</p>\n                            </Name>\n                            <OrderInfo>\n                              <h4>Order Id: {item._id}</h4>\n                            </OrderInfo>\n                            <PriceSection>\n                              <PriceColumn>\n                                <p>{element.price}</p>\n                              </PriceColumn>\n                              <PurchasedSeal src=\"https://media.giphy.com/media/oS9gvPTg8i9VYfIohK/giphy.gif\" />\n                            </PriceSection>\n                          </RightDiv>\n                        </GridItem>\n                      </>\n                    );\n                  })}\n                </>\n              );\n            })}\n          </GridContainer>\n        </BackgroundImage>\n      </ContentWrapper>\n    </>\n  );\n};\n\n//styled components\nconst ContentWrapper = styled.div`\n  position: relative;\n  width: 70vw;\n  left: 10vw;\n  top: 6vh;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n`;\n\nconst BackgroundImage = styled.div`\n  background-image: url(\"https://i.pinimg.com/736x/82/6a/95/826a95fde43be06c60b5c1f5349587c3.jpg\");\n  background-repeat: repeat;\n  display: flex;\n  flex-direction: column;\n  height: 2000px;\n  width: 2000px;\n`;\n\nconst SiteDescription = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  width: 100%;\n  height: 10vh;\n  background-color: black;\n  color: white;`;\n\nconst DescriptionText = styled.h1`\nfont-size: 3rem;\n  font-family: var(--primary-font-family);\n`\n\nconst ImageHere = styled.img`\n  width: 10vw;\n  height: auto;\n  object-fit: contain;\n`\n\nconst GridContainer = styled.div`\n  width: 90vw;\n  display: grid;\n  grid-template-columns: auto auto;\n  padding: 10px;\n  background-color: transparent;\n  height: 10vh;\n`;\n\nconst GridItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  color: black;\n  text-decoration: none;\n  background-color: white;\n  width: 400px;\n  height: auto;\n  margin: 15px auto;\n  padding: 15px;\n  border: 1px solid black;\n  border-radius: 25px;\n  transition: 0.5s ease-in-out;\n  box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1);\n  animation: scaleIn 1s ease-in-out;\n\n  @keyframes scaleIn {\n    from {\n      transform: translateY(200%);\n    }\n    to {\n      transform: translateY(0%);\n    }\n  }\n`;\n\nconst LeftDiv = styled.div`\n  border-right: 1px solid black;\n  padding: 10px;\n`;\nconst RightDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin-left: 10px;\n`;\n\nconst Image = styled.img`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100px;\n  height: auto;\n  object-fit: contain;\n`;\nconst Name = styled.h3`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n`;\n\nconst PriceSection = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst OrderInfo = styled.div`\n  display: flex;\n  align-items: center;\n  background-color: black;\n  color: white;\n  border-radius: 5px;\n`;\n\nconst PriceColumn = styled.div`\n  padding: 0 5px;\n  display: inline-block;\n\n  width: 100px;\n  height: 38px;\n\n  background-color: #6ab070;\n  -webkit-border-radius: 3px 4px 4px 3px;\n  -moz-border-radius: 3px 4px 4px 3px;\n  border-radius: 3px 4px 4px 3px;\n\n  border-left: 1px solid #6ab070;\n\n  /* This makes room for the triangle */\n  margin-left: 19px;\n\n  position: relative;\n  color: white;\n  font-weight: 300;\n  font-size: 22px;\n  line-height: 38px;\n\n  padding: 0 10px 0 10px;\n\n  &:before {\n    content: \"\";\n    position: absolute;\n    display: block;\n    left: -19px;\n    width: 0;\n    height: 0;\n    border-top: 19px solid transparent;\n    border-bottom: 19px solid transparent;\n    border-right: 19px solid #6ab070;\n  }\n\n  &:after {\n    content: \"\";\n    background-color: white;\n    border-radius: 50%;\n    width: 4px;\n    height: 4px;\n    display: block;\n    position: absolute;\n    left: -9px;\n    top: 17px;\n  }\n`;\n\nconst PurchasedSeal = styled.img`\n  width: 60px;\n  height: auto;\n`;\n\nexport default OrderHistory;"]},"metadata":{},"sourceType":"module"}