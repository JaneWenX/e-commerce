{"ast":null,"code":"import _slicedToArray from\"/Users/xialiangwen/Desktop/web_projects/e-commerce/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState,useEffect}from\"react\";// import from react\nimport axios from\"axios\";// import from axios\nimport{jsx as _jsx}from\"react/jsx-runtime\";export var ItemContext=/*#__PURE__*/createContext();// creating a context\n// creating a provider\nexport var ItemProvider=function ItemProvider(_ref){var children=_ref.children;// states here:\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),Items=_useState2[0],setItems=_useState2[1];// state to capture the all items\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),singleItem=_useState4[0],setSingleItem=_useState4[1];// state to capture the single item\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),companies=_useState6[0],setCompanies=_useState6[1];// state to capture the all companies\nvar _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),companyInfo=_useState8[0],setCompanyInfo=_useState8[1];// state to capture the single company\nvar _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),companyProducts=_useState10[0],setCompanyProducts=_useState10[1];// state to capture the all products of the company\nvar _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),ItemNumber=_useState12[0],setItemNumber=_useState12[1];// state to capture the number of items in the cart\nvar _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),cart=_useState14[0],setCart=_useState14[1];// state to capture the items in the cart\nvar _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),orderHistory=_useState16[0],setOrderHistory=_useState16[1];// state to capture the orders of the user\nvar _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),company=_useState18[0],setCompany=_useState18[1];// state to capture the company of the item\nvar _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),error=_useState20[0],setError=_useState20[1];// state to capture the error\n// getting the all companies from the database\nuseEffect(function(){axios.get(\"/api/companies\").then(function(res){setCompanies(res.data.data);}).catch(function(err){setError(err);});},[]);// getting the all items from the database\nuseEffect(function(){axios.get(\"/api/items\").then(function(res){setItems(res.data.data);}).catch(function(err){setError(err);});},[]);console.log(\"all items in the provider: \",Items);var temporaryArray=[];// temporary array to store the items in the cart\n// for the post method to add the item to the cart in mongodb\nvar addToCart=function addToCart(e,items){e.preventDefault();e.stopPropagation();temporaryArray.push(items);setCart(temporaryArray);// sending the item to the database\naxios({method:\"POST\",url:\"/api/cart\",data:{_id:items._id,name:items.name,price:items.price,imageSrc:items.imageSrc,body_location:items.body_location,category:items.category,companyId:items.companyId}}).then(function(res){return;}).catch(function(err){setError(err);});};return/*#__PURE__*/_jsx(ItemContext.Provider,{value:{Items:Items,companies:companies,singleItem:singleItem,setSingleItem:setSingleItem,companyInfo:companyInfo,setCompanyInfo:setCompanyInfo,companyProducts:companyProducts,setCompanyProducts:setCompanyProducts,ItemNumber:ItemNumber,addToCart:addToCart,cart:cart,setCart:setCart,company:company,setCompany:setCompany,orderHistory:orderHistory,setOrderHistory:setOrderHistory,error:error,setError:setError},children:children});};","map":{"version":3,"sources":["/Users/xialiangwen/Desktop/web_projects/e-commerce/client/src/context/Context.js"],"names":["createContext","useState","useEffect","axios","ItemContext","ItemProvider","children","Items","setItems","singleItem","setSingleItem","companies","setCompanies","companyInfo","setCompanyInfo","companyProducts","setCompanyProducts","ItemNumber","setItemNumber","cart","setCart","orderHistory","setOrderHistory","company","setCompany","error","setError","get","then","res","data","catch","err","console","log","temporaryArray","addToCart","e","items","preventDefault","stopPropagation","push","method","url","_id","name","price","imageSrc","body_location","category","companyId"],"mappings":"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","sourcesContent":["import { createContext, useState, useEffect } from \"react\"; // import from react\nimport axios from \"axios\"; // import from axios\n\nexport const ItemContext = createContext(); // creating a context\n\n// creating a provider\nexport const ItemProvider = ({ children }) => {\n\n  // states here:\n  const [Items, setItems] = useState([]); // state to capture the all items\n  const [singleItem, setSingleItem] = useState([]); // state to capture the single item\n\n  const [companies, setCompanies] = useState([]); // state to capture the all companies\n  const [companyInfo, setCompanyInfo] = useState([]); // state to capture the single company\n  const [companyProducts, setCompanyProducts] = useState([]); // state to capture the all products of the company\n\n  const [ItemNumber, setItemNumber] = useState(0); // state to capture the number of items in the cart\n  const [cart, setCart] = useState([]); // state to capture the items in the cart\n  const [orderHistory, setOrderHistory] = useState(null); // state to capture the orders of the user\n\n  const [company, setCompany] = useState(null); // state to capture the company of the item\n\n  const [error, setError] = useState(false); // state to capture the error\n\n  // getting the all companies from the database\n  useEffect(() => {\n    axios\n      .get(\"/api/companies\")\n      .then((res) => {\n        setCompanies(res.data.data);\n      })\n      .catch((err) => {\n        setError(err);\n      });\n  }, []);\n\n  // getting the all items from the database\n  useEffect(() => {\n    axios\n      .get(\"/api/items\")\n      .then((res) => {\n        setItems(res.data.data);\n      })\n      .catch((err) => {\n        setError(err);\n      });\n  }, []);\n\n  console.log(\"all items in the provider: \", Items);\n\n  let temporaryArray = []; // temporary array to store the items in the cart\n\n  // for the post method to add the item to the cart in mongodb\n  const addToCart = (e, items) => {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    temporaryArray.push(items);\n    setCart(temporaryArray);\n\n    // sending the item to the database\n      axios({\n        method: \"POST\",\n        url: \"/api/cart\",\n        data: {\n          _id: items._id,\n          name: items.name,\n          price: items.price,\n          imageSrc: items.imageSrc,\n          body_location: items.body_location,\n          category: items.category,\n          companyId: items.companyId,\n        },\n      })\n        .then((res) => {\n          return;\n        })\n        .catch((err) => {\n          setError(err);   \n        });\n  };\n\n\n  return (\n    <ItemContext.Provider\n      value={{\n        Items,\n        companies,\n        singleItem,\n        setSingleItem,\n        companyInfo,\n        setCompanyInfo,\n        companyProducts,\n        setCompanyProducts,\n        ItemNumber,\n        addToCart,\n        cart,\n        setCart,\n        company,\n        setCompany,\n        orderHistory,\n        setOrderHistory,\n        error,\n        setError,\n      }}\n    >\n      {children}\n    </ItemContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}